<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title></title>
<link rel="stylesheet" href="./css/datepicker.css">
<script src="./jquery.min.js"></script>
<script src="./datepicker.js"></script>
</head>
<body>
<input id="date" readonly="true"/>
<script>
function judgeDate(arr){
	var s = arr[0],
	e = arr[1],
	_asYmd = s.split('-'),
	_aeYmd = e.split('-'),
	sy = _asYmd[0],
	sm = parseInt(_asYmd[1], 10),
	sd = parseInt(_asYmd[2], 10),
	ey = _aeYmd[0],
	em = parseInt(_aeYmd[1], 10),
	ed = parseInt(_aeYmd[2], 10),
	to = ' ~ ',
	ret,
	_ey = ey + '年',
	_em = em + '月',
	_ed = ed + '日';
	
	_ey = sy===ey ? '' : _ey;
	_em = (sy===ey && sm===em) ? '' : _em;
	_ed = (sy===ey && sm===em && sd===ed) ? '' : _ed;
	
	ret = sy + '年' + sm + '月' + sd + '日' + to + _ey + _em + _ed
	return ret;
}
$('#date').DatePicker({
	date: ['2017-04-17', '2017-04-19'],//默认选中
	starts: 1,
	lastSel: false,//第一次点击算是最后一次点击
	mode: 'range',
	calendars: 2,
	onChange: function(formated, dates){
		console.log(formated, dates)
		console.log(judgeDate(formated))
		$('#date').val(formated[0]+'-'+formated[1])
		//$('#date').DatePickerHide();
	}
});
</script>
</body>
</html>
