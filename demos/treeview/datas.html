<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title></title>
<link rel="stylesheet" href="bootstrap-treeview.css" />
</head>
<body>
<div id="tv"></div>

<script src="./jquery.js"></script>
<script src="./bootstrap-treeview.js"></script>
<script>
~(function(window, $){
var
root = {
	"data": [{
		"self": {
			"departName": "中国移动通信集团江苏有限公司",
			"description": "",
			"displayName": "中国移动通信集团江苏有限公司",
			"displayOrder": "140",
			"fullName": "中国移动通信集团江苏有限公司",
			"o": "00230000000000000000",
			"orgName": "省公司",
			"parentOrgId": "",
			"reserve1": "",
			"style": "BRANCH"
		},
		"subOrganizations": [{
			"self": {
				"departName": "办公室",
				"description": "",
				"displayName": "办公室",
				"displayOrder": "020",
				"fullName": "江苏-办公室",
				"o": "00230057000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "党组办公室",
				"description": "",
				"displayName": "党组办公室",
				"displayOrder": "025",
				"fullName": "江苏-党组办公室",
				"o": "00230059000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "战略与法律事务部",
				"description": "",
				"displayName": "战略与法律事务部",
				"displayOrder": "030",
				"fullName": "江苏-战略与法律事务部",
				"o": "00230066000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "规划技术部",
				"description": "",
				"displayName": "规划技术部",
				"displayOrder": "040",
				"fullName": "江苏-规划技术部",
				"o": "00230058000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "市场经营部",
				"description": "",
				"displayName": "市场经营部",
				"displayOrder": "050",
				"fullName": "江苏-市场经营部",
				"o": "00230051000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "集团客户部",
				"description": "",
				"displayName": "集团客户部",
				"displayOrder": "060",
				"fullName": "江苏-集团客户部",
				"o": "00230060000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "数据部",
				"description": "",
				"displayName": "数据部",
				"displayOrder": "070",
				"fullName": "江苏-数据部",
				"o": "00230101000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "品质管理部",
				"description": "",
				"displayName": "品质管理部",
				"displayOrder": "080",
				"fullName": "江苏-品质管理部",
				"o": "00230100000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "网络部",
				"description": "",
				"displayName": "网络部",
				"displayOrder": "090",
				"fullName": "江苏-网络部",
				"o": "00230052000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "工程建设部",
				"description": "",
				"displayName": "工程建设部",
				"displayOrder": "100",
				"fullName": "江苏-工程建设部",
				"o": "00230054000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "信息技术中心",
				"description": "",
				"displayName": "信息技术中心",
				"displayOrder": "110",
				"fullName": "江苏-信息技术中心",
				"o": "00230061000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "人力资源部",
				"description": "",
				"displayName": "人力资源部",
				"displayOrder": "120",
				"fullName": "江苏-人力资源部",
				"o": "00230056000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "财务部",
				"description": "",
				"displayName": "财务部",
				"displayOrder": "130",
				"fullName": "江苏-财务部",
				"o": "00230055000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "物资供应部",
				"description": "",
				"displayName": "物资供应部",
				"displayOrder": "140",
				"fullName": "江苏-物资供应部",
				"o": "00230062000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "内审部",
				"description": "",
				"displayName": "内审部",
				"displayOrder": "150",
				"fullName": "江苏-内审部",
				"o": "00230070000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "行政总务部",
				"description": "",
				"displayName": "行政总务部",
				"displayOrder": "160",
				"fullName": "江苏-行政总务部",
				"o": "00230063000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "纪检组（监察室）",
				"description": "",
				"displayName": "纪检组（监察室）",
				"displayOrder": "170",
				"fullName": "江苏-纪检组（监察室）",
				"o": "00230069000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "党群工作部",
				"description": "",
				"displayName": "党群工作部",
				"displayOrder": "180",
				"fullName": "江苏-党群工作部",
				"o": "00230064000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "工会",
				"description": "",
				"displayName": "工会",
				"displayOrder": "190",
				"fullName": "江苏-工会",
				"o": "00230067000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "客户服务中心",
				"description": "",
				"displayName": "客户服务中心",
				"displayOrder": "200",
				"fullName": "江苏-客户服务中心",
				"o": "00230068000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "数据业务运营中心",
				"description": "",
				"displayName": "数据业务运营中心",
				"displayOrder": "210",
				"fullName": "江苏-数据业务运营中心",
				"o": "00230071000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "信息通信集成运营中心",
				"description": "",
				"displayName": "信息通信集成运营中心",
				"displayOrder": "220",
				"fullName": "江苏-信息通信集成运营中心",
				"o": "00230099000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "互联网运营中心",
				"description": "",
				"displayName": "互联网运营中心",
				"displayOrder": "230",
				"fullName": "江苏-互联网运营中心",
				"o": "00230083000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "电子商务运营中心（电商基地）",
				"description": "",
				"displayName": "电子商务运营中心（电商基地）",
				"displayOrder": "240",
				"fullName": "江苏-电子商务运营中心（电商基地）",
				"o": "00230084000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "游戏产品基地（中心）",
				"description": "",
				"displayName": "游戏产品基地（中心）",
				"displayOrder": "245",
				"fullName": "江苏-游戏产品基地（中心）",
				"o": "00230094000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "中国移动（淮安）呼叫中心基地项目筹备组",
				"description": "",
				"displayName": "中国移动（淮安）呼叫中心基地项目筹备组",
				"displayOrder": "250",
				"fullName": "江苏-中国移动（淮安）呼叫中心基地项目筹备组",
				"o": "00230011000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "网络与信息安全管理中心",
				"description": "",
				"displayName": "网络与信息安全管理中心",
				"displayOrder": "260",
				"fullName": "江苏-网络与信息安全管理中心",
				"o": "00230095000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "中移在线",
				"description": "",
				"displayName": "中移在线",
				"displayOrder": "270",
				"fullName": "江苏-中移在线",
				"o": "00230096000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "外围厂商",
				"description": "",
				"displayName": "外围厂商",
				"displayOrder": "300",
				"fullName": "江苏-外围厂商",
				"o": "00231111000000000000",
				"orgName": "省公司",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "苏州分公司",
				"description": "",
				"displayName": "苏州分公司",
				"displayOrder": "380",
				"fullName": "江苏-苏州分公司",
				"o": "00230025000000000000",
				"orgName": "苏州",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "BRANCH"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "南京分公司",
				"description": "",
				"displayName": "南京分公司",
				"displayOrder": "390",
				"fullName": "江苏-南京分公司",
				"o": "00230021000000000000",
				"orgName": "南京",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "BRANCH"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "无锡分公司",
				"description": "",
				"displayName": "无锡分公司",
				"displayOrder": "400",
				"fullName": "江苏-无锡分公司",
				"o": "00230022000000000000",
				"orgName": "无锡",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "BRANCH"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "常州分公司",
				"description": "",
				"displayName": "常州分公司",
				"displayOrder": "410",
				"fullName": "江苏-常州分公司",
				"o": "00230024000000000000",
				"orgName": "常州",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "BRANCH"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "南通分公司",
				"description": "",
				"displayName": "南通分公司",
				"displayOrder": "420",
				"fullName": "江苏-南通分公司",
				"o": "00230026000000000000",
				"orgName": "南通",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "BRANCH"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "扬州分公司",
				"description": "",
				"displayName": "扬州分公司",
				"displayOrder": "430",
				"fullName": "江苏-扬州分公司",
				"o": "00230030000000000000",
				"orgName": "扬州",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "BRANCH"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "镇江分公司",
				"description": "",
				"displayName": "镇江分公司",
				"displayOrder": "440",
				"fullName": "江苏-镇江分公司",
				"o": "00230031000000000000",
				"orgName": "镇江",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "BRANCH"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "泰州分公司",
				"description": "",
				"displayName": "泰州分公司",
				"displayOrder": "450",
				"fullName": "江苏-泰州分公司",
				"o": "00230032000000000000",
				"orgName": "泰州",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "BRANCH"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "徐州分公司",
				"description": "",
				"displayName": "徐州分公司",
				"displayOrder": "460",
				"fullName": "江苏-徐州分公司",
				"o": "00230023000000000000",
				"orgName": "徐州",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "BRANCH"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "盐城分公司",
				"description": "",
				"displayName": "盐城分公司",
				"displayOrder": "470",
				"fullName": "江苏-盐城分公司",
				"o": "00230029000000000000",
				"orgName": "盐城",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "BRANCH"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "淮安分公司",
				"description": "",
				"displayName": "淮安分公司",
				"displayOrder": "480",
				"fullName": "江苏-淮安分公司",
				"o": "00230028000000000000",
				"orgName": "淮安",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "BRANCH"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "连云港分公司",
				"description": "",
				"displayName": "连云港分公司",
				"displayOrder": "490",
				"fullName": "江苏-连云港分公司",
				"o": "00230027000000000000",
				"orgName": "连云港",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "BRANCH"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "宿迁分公司",
				"description": "",
				"displayName": "宿迁分公司",
				"displayOrder": "500",
				"fullName": "江苏-宿迁分公司",
				"o": "00230033000000000000",
				"orgName": "宿迁",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "BRANCH"
			},
			"subOrganizations": [],
			"users": []
		}, {
			"self": {
				"departName": "ICT公司",
				"description": "",
				"displayName": "ICT公司",
				"displayOrder": "510",
				"fullName": "江苏-ICT公司",
				"o": "00230810000000000000",
				"orgName": "ICT",
				"parentOrgId": "00230000000000000000",
				"reserve1": "",
				"style": "DEPARTMENT"
			},
			"subOrganizations": [],
			"users": []
		}],
		"users": [{
			"cn": "王建",
			"displayOrder": "00230081000000000000/010",
			"duty": "00230081000000000000-JS0003",
			"email": "wangjian@js.chinamobile.com",
			"employeeNumber": "23000001",
			"mobile": "13800000000",
			"uid": "wangjian"
		}, {
			"cn": "沈杰",
			"displayOrder": "00230081000000000000/040",
			"duty": "00230081000000000000-JS0005",
			"email": "shenj@js.chinamobile.com",
			"employeeNumber": "23040001",
			"mobile": "13800000000",
			"uid": "shenj"
		}, {
			"cn": "关懿珉",
			"displayOrder": "00230081000000000000/052",
			"duty": "00230081000000000000-JS0005",
			"email": "guanym@js.chinamobile.com",
			"employeeNumber": "23000012",
			"mobile": "13800000000",
			"uid": "guanym"
		}, {
			"cn": "张冬",
			"displayOrder": "00230081000000000000/054",
			"duty": "00230081000000000000-JS0005",
			"email": "zhangd@js.chinamobile.com",
			"employeeNumber": "23000008",
			"mobile": "13800000000",
			"uid": "zhangd"
		}, {
			"cn": "刘正利",
			"displayOrder": "00230081000000000000/055",
			"duty": "00230081000000000000-JS0005",
			"email": "liuzhengli@js.chinamobile.com",
			"employeeNumber": "23000039",
			"mobile": "13800000000",
			"uid": "liuzhengli"
		}, {
			"cn": "张汉良",
			"displayOrder": "00230081000000000000/058",
			"duty": "00230081000000000000-JS0005",
			"email": "zhanghanliang@js.chinamobile.com",
			"employeeNumber": "23000063",
			"mobile": "13800000000",
			"uid": "zhanghanliang"
		}, {
			"cn": "闵有黎",
			"displayOrder": "00230081000000000000/061",
			"duty": "00230081000000000000-JS0005",
			"email": "minyl@js.chinamobile.com",
			"employeeNumber": "23000003",
			"mobile": "13800000000",
			"uid": "minyl"
		}, {
			"cn": "李明益",
			"displayOrder": "00230081000000000000/063",
			"duty": "00230081000000000000-JS0005",
			"email": "limy@js.chinamobile.com",
			"employeeNumber": "23000127",
			"mobile": "13800000000",
			"uid": "limy"
		}]
	}],
	"errorCode": "",
	"message": "无异常情况",
	"result": true
}

var t = [{
	"text": "父节点 1",
	"nodes": [{
		"text": "子节点 1",
		"nodes": [{
			"text": "孙子节点 1"
		}, {
			"text": "孙子节点 2"
		}]
	}, {
		"text": "子节点 2"
	}]
}, {
	"text": "父节点 2"
}, {
	"text": "父节点 3"
}, {
	"text": "父节点 4"
}, {
	"text": "父节点 5"
}];
var datas = root.data;
console.info(datas)
function createNode(data){
	var node = {
		text: '',
		nodes: []
	};
	var 
	self = data.self,
	users = data.users || [];
	subs = data.subOrganizations || [];
	
	if(self){
		node.text = self.displayName;
		//node.o = self.o;
	}
	if(users){
		$.each(users, function(i, v){
			var a = {
				text: v.cn
			}
			node.nodes.push(a)
		})
	}
	if(subs){
		$.each(subs, function(i, v){
			node.nodes.push(createNode(v))
		})
	}
	
	return node;
}
function makeDatas (datas){
	
	var ret = [];
	if(datas&&datas.length){
		$.each(datas, function(i, v){
			
			ret.push(createNode(v))
		});
	}
	
	return ret;
}

var last = makeDatas (datas);
console.log(last)
$('#tv').treeview({data: last});

})(window, jQuery)
</script>
</body>
</html>
